@page "/DonationList"
@inject NavigationManager NavManager

@using MWF.Pages;
@using MWF.Models;
@using MWF.Codes;
@using System.Data;
@using System.Data.SQLite;


<h4>Donation List</h4>

<style>
    .donation {
        height: auto;
        width: 100%;
        background-color: floralwhite;
        margin:4px;
        padding:2px
    }

    body {
        margin: 0;
        padding: 0;
    }

    /* Common styles for all action buttons */
    .action-btn {
        padding: 1px 2px; /* Reduced padding for tighter buttons */
        margin: 0 2px; /* Slight margin between buttons */
        border: none;
        background-color: transparent;
        cursor: pointer;
        border-radius: 4px;
        transition: background-color 0.3s ease;
    }

        .action-btn:hover {
            background-color: #f0f0f0;
        }

    .edit-btn i {
        color: #007bff; /* Blue for edit */
    }

    .delete-btn i {
        color: red; /* Red for delete */
    }

    .print-btn i {
        color: #28a745; /* Green for print */
    }

    .action-btn i {
        margin-right: 3px;
    }

    .add-btn i {
        color: #17a2b8; /* Teal color for add */
    }

    .add-btn:hover {
        background-color: #e0f7fa; /* Light teal background on hover */
    }

</style>


<EditForm Model="@Model">
    <div class="container donation">
        <div class="row">
            <div class="col-md-6">
                <div class="form-floating mb-3 ">
                    <InputText @bind-Value="Model.SearchText" class="form-control" id="txtSearch" placeholder="Type for seach"></InputText>
                    <label for="txtRef">Search</label>
                </div>
            </div>
            <div class="col-6 d-flex justify-content-end">
                <button id="btnSearch" class="btn btn-primary" style="height:40px" @onclick="Search">Search</button>
            </div>

        </div>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th style="width:10%">Receipt Number</th>
                <th style="width:10%">Receipt Date</th>
                <th style="width:25%">Donor Name</th>
                <th style="width:25%">Donation Type</th>
                <th style="width:10%">Amount</th>

                <th style="width:20%">
                    <button class="action-btn add-btn" @onclick="()=>GoDonation(0)">
                        <i class="bi bi-plus-circle-fill"></i> <!-- Icon for Add -->
                    </button>
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.DonationList)
            {
                <tr>
                    <td>@item.Rec_No</td>
                    <td>@item.Rec_Date.ToString("yyyy-MM-dd")</td>
                    <td>@item.TitleDonor</td>
                    <td>@item.TitleDonationType</td>
                    <td style="align-content:end">@item.Amount.ToString("###,###,###.##")</td>
                    <td>
                        <button class="action-btn edit-btn" @onclick="()=>GoDonation(item.ID)">
                            <i class="bi bi-pencil-fill"></i>
                        </button>
                        <button class="action-btn delete-btn" @onclick="() => Model.DeleteDonation(item.ID)">
                            <i class="bi bi-trash3"></i>
                        </button>
                        <button class="action-btn print-btn" @onclick="()=> Model.PrintDonation(item.ID)">
                            <i class="bi bi-printer-fill"></i>
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</EditForm>

@code {

    public void Search()
    {

    }

}